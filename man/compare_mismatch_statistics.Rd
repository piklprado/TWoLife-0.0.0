% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{compare_mismatch_statistics}
\alias{compare_mismatch_statistics}
\title{Compare Mismatch Statistics Across Multiple Simulations}
\usage{
compare_mismatch_statistics(result_list)
}
\arguments{
\item{result_list}{A named or unnamed list of 'twolife_result' objects.
If named, names will be used as scenario labels in output. If unnamed,
automatic labels ("Result 1", "Result 2", etc.) will be generated.}
}
\value{
Invisibly returns a list with two components:
  \describe{
    \item{comparison}{Data frame comparing scenarios with columns: Scenario (character),
      N_Survivors (integer), Mean_Fitness (numeric), Median_Fitness (numeric),
      Percent_High_Fitness (numeric, % with fitness > 0.8), 
      Percent_Low_Fitness (numeric, % with fitness < 0.5),
      Correlation (numeric, phenotype-habitat correlation),
      Mean_Mismatch (numeric, mean |phenotype - habitat|),
      Mean_Niche_Width (numeric)}
    \item{detailed}{List of complete mismatch statistics for each scenario (output from 
      \code{\link{calculate_genotype_habitat_mismatch}} for each result)}
  }
  
  The function prints formatted comparison table and identifies best-performing scenarios.
}
\description{
Compares habitat matching and fitness statistics across multiple simulation
results. Useful for evaluating the effects of different parameters, landscapes,
or genetic architectures on habitat selection outcomes.
}
\details{
Use Cases:
  This function is particularly useful for:
  \itemize{
    \item Comparing different landscapes (e.g., fragmented vs. continuous)
    \item Evaluating genetic architecture effects (e.g., plasticity vs. no plasticity)
    \item Testing parameter sensitivity (e.g., different mutation rates, niche widths)
    \item Comparing neutral vs. selective scenarios (using neutral_mode parameter)
    \item Assessing different boundary conditions or density-dependence settings
  }

Output Interpretation:
  The comparison table shows:
  \itemize{
    \item Mean_Fitness: Higher values indicate better overall habitat matching (0-1 scale)
    \item Correlation: Stronger positive values indicate more effective habitat selection
    \item Percent_High_Fitness: Proportion thriving in suitable habitat (fitness > 0.8)
    \item Mean_Mismatch: Lower values indicate closer phenotype-habitat matching
  }

Automated Identification:
  The function automatically identifies and highlights:
  \itemize{
    \item Scenario with highest mean fitness (→)
    \item Scenario with strongest phenotype-habitat correlation (→)
    \item Scenario with highest proportion of high-fitness individuals (→)
  }
  
  Markers (→) help quickly identify best-performing scenarios for different metrics.

Typical Comparisons:
  \itemize{
    \item Plasticity effect: With plasticity should show higher fitness and correlation
    \item Neutral vs selective: Selective should show higher correlation
    \item Landscape quality: Higher habitat proportion typically increases mean fitness
    \item Genetic variation: More variation enables better habitat matching when selection is active
  }
}
\examples{
# Create landscape
landscape <- create_fractal_landscape(
  cells_per_row = 15,
  fractality = 0.7,
  habitat_proportion = 0.4,
  return_as_landscape_params = TRUE
)

# Scenario 1: No genetic variation
result1 <- twolife_simulation(
  landscape_params = landscape,
  individual_params = list(initial_population_size = 30),
  simulation_params = list(max_events = 1000),
  master_seed = 111
)

# Scenario 2: With genetic variation
result2 <- twolife_simulation(
  landscape_params = landscape,
  individual_params = list(initial_population_size = 30),
  genetic_params = list(genotype_means = runif(30, 0, 1)),
  simulation_params = list(max_events = 1000),
  master_seed = 222
)

# Scenario 3: Neutral (no habitat selection)
result3 <- twolife_simulation(
  landscape_params = landscape,
  individual_params = list(initial_population_size = 30),
  genetic_params = list(genotype_means = runif(30, 0, 1)),
  simulation_params = list(max_events = 1000, neutral_mode = TRUE),
  master_seed = 333
)

# Compare all three
comparison <- compare_mismatch_statistics(list(
  "No variation" = result1,
  "With variation" = result2,
  "Neutral" = result3
))

# Access detailed results
comparison$comparison  # Summary table
comparison$detailed[[1]]  # Full stats for scenario 1

\donttest{
# Compare different landscapes
landscape_fragmented <- create_fractal_landscape(
  15, fractality = 0.9, habitat_proportion = 0.3, 
  return_as_landscape_params = TRUE
)

landscape_continuous <- create_fractal_landscape(
  15, fractality = 0.3, habitat_proportion = 0.6,
  return_as_landscape_params = TRUE
)

result_frag <- twolife_simulation(
  landscape_params = landscape_fragmented,
  individual_params = list(initial_population_size = 30),
  genetic_params = list(genotype_means = runif(30, 0, 1)),
  simulation_params = list(max_events = 2000),
  master_seed = 444
)

result_cont <- twolife_simulation(
  landscape_params = landscape_continuous,
  individual_params = list(initial_population_size = 30),
  genetic_params = list(genotype_means = runif(30, 0, 1)),
  simulation_params = list(max_events = 2000),
  master_seed = 555
)

compare_mismatch_statistics(list(
  "Fragmented" = result_frag,
  "Continuous" = result_cont
))
}

}
\seealso{
\code{\link{calculate_genotype_habitat_mismatch}} for single-scenario analysis,
  \code{\link{validate_habitat_matching}} for visual validation
}
