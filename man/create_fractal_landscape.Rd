% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{create_fractal_landscape}
\alias{create_fractal_landscape}
\title{Create Fractal Landscape}
\usage{
create_fractal_landscape(
  cells_per_side,
  fractality,
  min_value = 0,
  max_value = 1,
  habitat_proportion = NULL,
  return_as_landscape_params = FALSE
)
}
\arguments{
\item{cells_per_side}{Integer. Number of cells per side of the square landscape (must be >= 2)}

\item{fractality}{Numeric. Fractal parameter controlling spatial correlation (0-1).
Higher values (0.7-0.9) create smoother, more connected patterns.
Lower values (0.1-0.4) create more fragmented, random-like patterns.}

\item{min_value}{Numeric. Minimum habitat value for continuous landscapes (default: 0.0)}

\item{max_value}{Numeric. Maximum habitat value for continuous landscapes (default: 1.0)}

\item{habitat_proportion}{Numeric. Proportion of cells classified as habitat (0-1).
If specified, creates binary landscape (0/1). If NULL, creates continuous landscape.}

\item{return_as_landscape_params}{Logical. If TRUE, returns list(habitat = matrix)
suitable for direct use in \code{\link{twolife_simulation}}. If FALSE, returns matrix only (default: FALSE).}
}
\value{
Square matrix representing habitat grid, or list with habitat component if 
  \code{return_as_landscape_params = TRUE}
}
\description{
Generate realistic heterogeneous landscapes using fractal algorithms.
Creates spatial patterns with controllable fragmentation and habitat proportion,
suitable for testing spatial population models.
}
\details{
This function uses the diamond-square fractal algorithm to generate spatially
autocorrelated landscapes. The fractality parameter controls the degree of
spatial correlation:

\describe{
  \item{High fractality (0.7-0.9)}{Smooth gradients, large connected patches}
  \item{Medium fractality (0.4-0.7)}{Moderate fragmentation, intermediate patches}  
  \item{Low fractality (0.1-0.4)}{High fragmentation, small scattered patches}
}

For binary landscapes, \code{habitat_proportion} determines the fraction of cells
with value 1 (habitat) vs 0 (matrix). The threshold is applied to the
continuous fractal pattern, preserving spatial structure.
}
\section{Dependencies}{

Requires the 'rflsgen' package for fractal generation. If not installed, 
install with: \code{install.packages("rflsgen")}
}

\examples{
# Binary fragmented landscape (agricultural mosaic)
fragmented <- create_fractal_landscape(
  cells_per_side = 10,
  fractality = 0.3,        # High fragmentation
  habitat_proportion = 0.4  # 40\% habitat
)

# Binary connected landscape (protected area)
connected <- create_fractal_landscape(
  cells_per_side = 10,
  fractality = 0.8,        # Low fragmentation  
  habitat_proportion = 0.4  # 40\% habitat
)

\donttest{
# Continuous environmental gradient
gradient <- create_fractal_landscape(
  cells_per_side = 20,
  fractality = 0.7,
  habitat_proportion = NULL  # Continuous values
)

# Ready for simulation use
landscape_params <- create_fractal_landscape(
  cells_per_side = 15,
  fractality = 0.6,
  habitat_proportion = 0.3,
  return_as_landscape_params = TRUE
)

# Use directly in simulation
result <- twolife_simulation(
  landscape_params = landscape_params,
  individual_params = list(initial_population_size = 20),
  simulation_params = list(max_events = 100)
)
}

}
\seealso{
\code{\link{create_corner_landscape}} for simpler test landscapes,
\code{\link{plot_landscape_world_coords}} for visualization,
\code{\link{twolife_simulation}} for using landscapes in simulations
}
