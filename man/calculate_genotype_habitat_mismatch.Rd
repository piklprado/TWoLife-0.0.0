% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{calculate_genotype_habitat_mismatch}
\alias{calculate_genotype_habitat_mismatch}
\title{Calculate Genotype-Habitat Mismatch Statistics Using Fitness}
\usage{
calculate_genotype_habitat_mismatch(
  simulation_result,
  return_individuals = FALSE
)
}
\arguments{
\item{simulation_result}{A twolife_result object}

\item{return_individuals}{Logical. If TRUE, includes individual-level data
in the output (default: FALSE)}
}
\value{
List of class 'genotype_habitat_mismatch' containing:
  \itemize{
    \item \code{n_survivors}: Number of surviving individuals
    \item \code{mean_fitness, median_fitness, sd_fitness}: Summary statistics
    \item \code{min_fitness, max_fitness}: Fitness range
    \item \code{high_fitness_count}: Count with fitness > 0.8
    \item \code{medium_fitness_count}: Count with fitness 0.5-0.8
    \item \code{low_fitness_count}: Count with fitness < 0.5
    \item \code{percent_high_fitness, percent_medium_fitness, percent_low_fitness}: Percentages
    \item \code{mean_absolute_mismatch, median_absolute_mismatch}: Absolute difference measures
    \item \code{correlation}: Genotype-habitat correlation
    \item \code{mean_genotype, sd_genotype}: Genotype distribution
    \item \code{mean_habitat, sd_habitat}: Habitat distribution at survivors
    \item \code{mean_niche_width, sd_niche_width}: Niche width (genotype_sd) distribution
    \item \code{individuals}: Data frame (if return_individuals=TRUE)
  }
}
\description{
Computes fitness-based measures of genotype-habitat matching. Fitness is
calculated as exp(-(habitat - genotype)^2 / (2 * genotype_sd^2)), representing
how well each individual's phenotype matches its environment.
}
\examples{
\dontrun{
result <- twolife_simulation(...)
mismatch_stats <- calculate_genotype_habitat_mismatch(result)
print(mismatch_stats)

# Get individual-level data
detailed <- calculate_genotype_habitat_mismatch(result, return_individuals = TRUE)
head(detailed$individuals)
}

}
